---
layout: post
title: "运输问题 (费用流问题)"
date: 2014-12-07 19:07:25 +0800
comments: true
categories: ['线性规划与网络流24题']
---
###运输问题

####问题描述： 
W公司有m个仓库和n个零售商店。第i个仓库有ai个单位的货物；第j个零售商店需要bj个单位的货物。货物供需平衡，即a1 + a2 + ... + am-1 + am = b1 + b2 + ... + bn-1 + bn。从第i个仓库运送每单位货物到第j个零售商店的费用为cij。试设计一个将仓库中所有货物运送到零售商店的运输方案，使总运输费用最少。

####编程任务： 
对于给定的m个仓库和n个零售商店间运送货物的费用，计算最优运输方案和最差运输方案。

####数据输入： 
由文件input.txt提供输入数据。文件的第1行有2个正整数m和n，分别表示仓库数和零售商店数。接下来的一行中有m个正整数ia，1≤i≤m，表示第i个仓库有ai个单位的货物。再接下来的一行中有n个正整数bj，1≤j≤n，表示第j个零售商店需要bj个单位的货物。接下来的m行，每行有n个整数，表示从第i个仓库运送每单位货物到第j个零售商店的费用cij。

####结果输出：
程序运行结束时，将计算出的最少运输费用和最多运输费用输出到文件output.txt中。 

####输入文件示例：
2 3 

220 280 

170 120 210 

77 39 105 

150 186 122 

####输出文件示例：
48500 

69140

---

###解决方案：

####1.问题分析：  
供求关系，用费用流解决。 
 
####2.建模方法：
把M个仓库看成二分图X集合的点，把N个商店看成二分图Y集合的点。添加源汇点S,T。 
 
>- S向所有仓库i连一条容量为仓库中货物数量ai，费用为0的有向边。 
>- 每个商店j向T连一条容量为该商店需要货物数bj，费用为0的有向边。 
>- 每个仓库i向每个商店j连一条容量为INF，费用为cij的边。 
 
求最小费用最大流，最小费用流值就是最少运费；
求最大费用最大流，最大费用流值就是最多运费；
 
####3.建模分析： 
把每个仓库想象成一个中转站，由源点运来ai单位货物，运费为0，每个商店也为一个中转站，运向目标汇点bi单位货物。每个仓库和零售商店之间有一条道路，容量为无穷大，费用为单位运费cij。求从源点到汇点的费用流，就是运费。